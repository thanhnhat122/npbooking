<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
<div class="container">
  <h2 class="text-center">Danh sách quản trị viên</h2>

  <!-- <button (click)="insertUser()" type="button" class="btn btn-success col-md-3 offset-md-9 mt-3 " routerLink=""> Thêm admin</button> -->
  <button type="button" class="bg-rose-700 col-md-3 offset-md-9 mt-3 border-2 fw-bold" data-bs-toggle="modal"
  data-bs-target="#addAdmin" style="padding: 10px 30px 10px 30px"> Thêm quản trị viên </button>
  <div class="modal fade" id="addAdmin" tabindex="-1" aria-labelledby="rateModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="rateModalLabel"> Thêm quản trị viên </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"
                    aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <form >
                <div class="row">
                  <div class="col-md-12 mb-3">
                    <div class="form-outline">
                      <input type="text" class="form-control" [(ngModel)] = "user1.email" name="email" id="email" placeholder="Nhập email">
                    </div>
                  </div>

                </div>

                <div class="row">
                  <div class="col-md-12 mb-3">
                    <div class="form-outline">
                      <input type="password" class="form-control" [(ngModel)] = "user1.password" name="password" id="password" placeholder="Nhập mật khẩu">
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-6 mb-3">
                    <div class="form-outline">
                      <input type="text" class="form-control" [(ngModel)] = "user1.lastName" name="lastName" id="lastName" placeholder="Họ">
                    </div>
                  </div>

                  <div class="col-md-6 mb-3">
                    <div class="form-outline">
                      <input type="text" class="form-control" [(ngModel)] = "user1.firstName" name="firstName" id="firstName" placeholder="Tên">
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-12 mb-3">
                    <div class="form-outline">
                      <input type="text" class="form-control" [(ngModel)] = "user1.phone" name="phone" id="phone" placeholder="Nhập số điện thoại">
                    </div>
                  </div>
                </div>

              </form>

            </div>
            <div class="modal-footer justify-content-center">
                <button (click)="saveAdmin()" type="button" class="bg-blue-100"
                    style="width: 180px" data-bs-dismiss="modal"> Thêm </button>
                <button type="button" class="bg-red-100" style="width: 180px"
                    data-bs-dismiss="modal"> Đóng </button>
            </div>
        </div>
    </div>
  </div>
  <table class = "table table-striped table-hover">
    <thead>
        <tr>
            <th> Email </th>
            <th> Tên </th>
            <th> Họ </th>
            <th> Quyền </th>
            <th> Điện thoại </th>
            <th> Chức năng </th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor = "let user of users">
            <td> {{ user.email }} </td>
            <td> {{ user.firstName}} </td>
            <td> {{ user.lastName }} </td>
            <td> Quản trị viên </td>
            <td> {{ user.phone}} </td>
            <td style="width: 20%;">
              <a class="table-link" data-bs-toggle="modal" data-bs-target="#updateAdmin">
                <span class="fa-stack">
                  <i class="fa fa-square fa-stack-2x"></i>
                  <i class="fa fa-pencil fa-stack-1x fa-inverse"></i>
                </span>
              </a>
              <div class="modal fade" id="updateAdmin" tabindex="-1" aria-labelledby="rateModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="rateModalLabel"> Cập nhật quản trị viên </h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"
                                aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                          <form >
                            <div class="row">
                              <div class="col-md-12 mb-3">
                                <div class="form-outline">
                                  <!-- <input type="text" class="form-control" [(ngModel)] = "user.email" name="email" id="email" placeholder="Nhập email"> -->
                                  <input type="text" class="form-control" value="{{user.email}}" readonly>
                                </div>
                              </div>

                            </div>

                            <div class="row">
                              <div class="col-md-6 mb-3">
                                <div class="form-outline">
                                  <input type="text" class="form-control" [(ngModel)] = "user.lastName" name="lastName" id="lastName" placeholder="Họ">
                                </div>
                              </div>

                              <div class="col-md-6 mb-3">
                                <div class="form-outline">
                                  <input type="text" class="form-control" [(ngModel)] = "user.firstName" name="firstName" id="firstName" placeholder="Tên">
                                </div>
                              </div>
                            </div>
                            <div class="row">
                              <div class="col-md-12 mb-3">
                                <div class="form-outline">
                                  <input type="text" class="form-control" [(ngModel)] = "user.phone" name="phone" id="phone" placeholder="Nhập số điện thoại">
                                </div>
                              </div>
                            </div>

                          </form>

                        </div>
                        <div class="modal-footer justify-content-center">
                            <button (click)="updateAdmin(user.email,user)" type="button" class="bg-blue-100"
                                style="width: 180px" data-bs-dismiss="modal"> Cập nhật </button>
                            <button type="button" class="bg-red-100" style="width: 180px"
                                data-bs-dismiss="modal"> Đóng </button>
                        </div>
                    </div>
                </div>
              </div>
              <a  class="table-link danger" data-bs-toggle="modal" data-bs-target="#deleteAdmin">
                <span class="fa-stack">
                  <i class="fa fa-square fa-stack-2x"></i>
                  <i class="fa fa-trash-o fa-stack-1x fa-inverse"></i>
                </span>
              </a>
              <div class="modal fade" id="deleteAdmin" tabindex="-1" aria-labelledby="rateModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="rateModalLabel"> Bạn có muốn xóa tài khoản này ?</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"
                                aria-label="Close"></button>
                        </div>
                        <div class="modal-footer justify-content-center">
                            <button (click)="deleteUser(user.email)" type="button" class="bg-red-100"
                                style="width: 180px" data-bs-dismiss="modal"> Xóa </button>
                            <button type="button" class="bg-gray-100" style="width: 180px"
                                data-bs-dismiss="modal"> Đóng </button>
                        </div>
                    </div>
                </div>
              </div>
              </td>
        </tr>
    </tbody>
  </table>
</div>
